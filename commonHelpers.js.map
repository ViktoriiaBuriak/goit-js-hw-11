{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const galleryBox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    enableKeyboard: true,\n  });\n\n  const galleryApiUrl = 'https://pixabay.com/api/';\n  const form = document.querySelector('.search-container');\n  const input = document.getElementById('search');\n  const loader = document.querySelector('.loader');\n  const gallery = document.querySelector('.gallery');\n\n  form.addEventListener('submit', evt => {\n    evt.preventDefault();\n\n    const inputValue = input.value.trim().toLowerCase();\n\n    loader.style.display = 'block';\n\n    if (inputValue !== '') {\n      const options = {\n        key: '42070599-a2d44ee2a419d1b7eaf44145e',\n        q: encodeURIComponent(inputValue),\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      };\n\n      fetch(\n        `${galleryApiUrl}?key=42070599-a2d44ee2a419d1b7eaf44145e&q=${inputValue}`,\n        options\n      )\n        .then(response => response.json())\n        .then(data => {\n          const hits = data.hits;\n\n          input.value = '';\n\n          if (hits.length === 0) {\n            iziToast.error({\n              title: 'Error',\n              message:\n                'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight',\n            });\n            loader.style.display = 'none';\n\n            return;\n          }\n\n          gallery.innerHTML = '';\n\n          hits.forEach(hit => {\n            const listItem = document.createElement('li');\n            listItem.classList.add('gallery-item');\n\n            const elementLink = document.createElement('a');\n            elementLink.classList.add('gallery-link');\n            elementLink.href = hit.largeImageURL;\n\n            const imageElement = document.createElement('img');\n            imageElement.classList.add('gallery-image');\n            imageElement.src = hit.webformatURL;\n            imageElement.alt = hit.tags;\n\n            const captionList = document.createElement('ul');\n            captionList.classList.add('caption-list');\n\n            const likesItem = document.createElement('li');\n            likesItem.innerHTML = 'Likes: <br>' + hit.likes;\n\n            const viewsItem = document.createElement('li');\n            viewsItem.innerHTML = 'Views: <br>' + hit.views;\n\n            const commentsItem = document.createElement('li');\n            commentsItem.innerHTML = 'Comments: <br>' + hit.comments;\n\n            const downloadsItem = document.createElement('li');\n            downloadsItem.innerHTML = 'Downloads: <br>' + hit.downloads;\n\n            captionList.appendChild(likesItem);\n            captionList.appendChild(viewsItem);\n            captionList.appendChild(commentsItem);\n            captionList.appendChild(downloadsItem);\n\n            listItem.appendChild(elementLink);\n            elementLink.appendChild(imageElement);\n            listItem.appendChild(captionList);\n\n            gallery.appendChild(listItem);\n          });\n\n          loader.style.display = 'none';\n\n          input.value = '';\n\n          galleryBox.refresh();\n        })\n        .catch(error => {\n          console.error('There was a problem with the fetch operation:', error);\n        });\n    } else {\n      input.reportValidity();\n\n      loader.style.display = 'none';\n    }\n  });\n});\n"],"names":["galleryBox","SimpleLightbox","galleryApiUrl","form","input","loader","gallery","evt","inputValue","options","response","data","hits","iziToast","hit","listItem","elementLink","imageElement","captionList","likesItem","viewsItem","commentsItem","downloadsItem","error"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAa,IAAIC,EAAe,aAAc,CAClD,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EACpB,CAAG,EAEKC,EAAgB,2BAChBC,EAAO,SAAS,cAAc,mBAAmB,EACjDC,EAAQ,SAAS,eAAe,QAAQ,EACxCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjDH,EAAK,iBAAiB,SAAUI,GAAO,CACrCA,EAAI,eAAc,EAElB,MAAMC,EAAaJ,EAAM,MAAM,KAAM,EAAC,YAAW,EAIjD,GAFAC,EAAO,MAAM,QAAU,QAEnBG,IAAe,GAAI,CACrB,MAAMC,EAAU,CACd,IAAK,qCACL,EAAG,mBAAmBD,CAAU,EAChC,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEM,MACE,GAAGN,8CAA0DM,IAC7DC,CACD,EACE,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,MAAMC,EAAOD,EAAK,KAIlB,GAFAP,EAAM,MAAQ,GAEVQ,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACxB,CAAa,EACDR,EAAO,MAAM,QAAU,OAEvB,MACD,CAEDC,EAAQ,UAAY,GAEpBM,EAAK,QAAQE,GAAO,CAClB,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,cAAc,EAErC,MAAMC,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,KAAOF,EAAI,cAEvB,MAAMG,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,IAAMH,EAAI,aACvBG,EAAa,IAAMH,EAAI,KAEvB,MAAMI,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,cAAgBL,EAAI,MAE1C,MAAMM,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,cAAgBN,EAAI,MAE1C,MAAMO,EAAe,SAAS,cAAc,IAAI,EAChDA,EAAa,UAAY,iBAAmBP,EAAI,SAEhD,MAAMQ,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAY,kBAAoBR,EAAI,UAElDI,EAAY,YAAYC,CAAS,EACjCD,EAAY,YAAYE,CAAS,EACjCF,EAAY,YAAYG,CAAY,EACpCH,EAAY,YAAYI,CAAa,EAErCP,EAAS,YAAYC,CAAW,EAChCA,EAAY,YAAYC,CAAY,EACpCF,EAAS,YAAYG,CAAW,EAEhCZ,EAAQ,YAAYS,CAAQ,CACxC,CAAW,EAEDV,EAAO,MAAM,QAAU,OAEvBD,EAAM,MAAQ,GAEdJ,EAAW,QAAO,CAC5B,CAAS,EACA,MAAMuB,GAAS,CACd,QAAQ,MAAM,gDAAiDA,CAAK,CAC9E,CAAS,CACT,MACMnB,EAAM,eAAc,EAEpBC,EAAO,MAAM,QAAU,MAE7B,CAAG,CACH,CAAC"}